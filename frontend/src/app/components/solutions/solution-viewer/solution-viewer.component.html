<!--
  ~     EPFL Gloves Guide - An application to help you choose the best gloves for a chemical work
  ~     Copyright (C) 2020 - Louis Vialar & EPFL GSCP
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU Affero General Public License as published
  ~     by the Free Software Foundation, either version 3 of the License, or
  ~     any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU Affero General Public License for more details.
  ~
  ~     You should have received a copy of the GNU Affero General Public License
  ~     along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<table style="width: 100%;">
  <tr *ngFor="let s of solution.substances">
    <td i18n>{{s.substance.name}} (CAS number: {{s.substance.casNumber}})</td>
    <td>
      <mat-form-field>
        <input matInput type="number" [(ngModel)]="s.proportion" (ngModelChange)="onChange()">
        <span matSuffix>%</span>
      </mat-form-field>
    </td>
    <td style="width: 45px;">
      <button mat-icon-button (click)="solution.substances.splice(solution.substances.indexOf(s)) ; onChange()">
        <mat-icon>delete</mat-icon>
      </button>
    </td>
  </tr>


  <tr>
    <td i18n>Water or aqueous solution</td>

    <td>
      <mat-form-field>
        <input matInput type="number" [(ngModel)]="solution.water" (ngModelChange)="onChange()">
        <span matSuffix>%</span>
      </mat-form-field>
    </td>
    <td style="width: 45px;">
      <button mat-icon-button (click)="solution.water = 0 ; onChange()">
        <mat-icon>delete</mat-icon>
      </button>
    </td>
  </tr>

  <tr>
    <td i18n>Impurities or unknown substances</td>

    <td>
      <mat-form-field>
        <input matInput type="number" [(ngModel)]="solution.impurities" (ngModelChange)="onChange()">
        <span matSuffix>%</span>
      </mat-form-field>
    </td>
    <td style="width: 45px;">
      <button mat-icon-button (click)="solution.impurities = 0 ; onChange()">
        <mat-icon>delete</mat-icon>
      </button>
    </td>
  </tr>
</table>
