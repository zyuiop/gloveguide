<!--
  ~     EPFL Gloves Guide - An application to help you choose the best gloves for a chemical work
  ~     Copyright (C) 2020 - Louis Vialar & EPFL GSCP
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU Affero General Public License as published
  ~     by the Free Software Foundation, either version 3 of the License, or
  ~     any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU Affero General Public License for more details.
  ~
  ~     You should have received a copy of the GNU Affero General Public License
  ~     along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<ng-container *ngIf="glove$ | async as glove; else loading">
  <h3>{{glove.id ? 'Update' : 'Create'}} a glove</h3>

  <form>

    <div fxLayout="row" fxLayoutGap="20px">
      <mat-form-field appearance="outline" fxFlex>
        <mat-label>Brand name</mat-label>
        <input type="text" name="brand" matInput [(ngModel)]="glove.brand"/>
      </mat-form-field>
      <mat-form-field appearance="outline" fxFlex>
        <mat-label>Glove name</mat-label>
        <input type="text" name="name" matInput [(ngModel)]="glove.name"/>
      </mat-form-field>
    </div>
    <mat-form-field appearance="outline">
      <mat-label>Glove reference</mat-label>
      <input type="text" name="reference" matInput [(ngModel)]="glove.reference"/>
    </mat-form-field>

    <h3>Specifications (EN ISO 374-1)</h3>
    <mat-form-field appearance="outline">
      <mat-label>Type</mat-label>
      <input type="text" name="type" matInput [(ngModel)]="glove.standardType"/>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Resistance</mat-label>
      <input type="text" name="resistance" matInput [(ngModel)]="glove.standardResistance"/>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>AQL</mat-label>
      <input type="number" min="0" max="1" step="0.05" name="sql" matInput [(ngModel)]="glove.aql"/>
      <span matSuffix> mm</span>
    </mat-form-field>

    <div fxLayout="row" fxLayoutGap="20px">
      <mat-form-field fxFlex appearance="outline">
        <mat-label>Length (mm)</mat-label>
        <input type="number" min="0" max="10000" step="10" name="length" matInput [(ngModel)]="glove.length"/>
        <span matSuffix> mm</span>
      </mat-form-field>

      <mat-form-field fxFlex appearance="outline">
        <mat-label>Palm thickness (mm)</mat-label>
        <input type="number" min="0" max="5" step="0.001" name="thickness" matInput [(ngModel)]="glove.reference"/>
        <span matSuffix> mm</span>
      </mat-form-field>
    </div>

    <h3>Ratings</h3>
    <app-rating-selector style="width: 100%;" label="Ease to wear" name="easeToWear"
                         [(selected)]="glove.easeToWear"></app-rating-selector>
    <app-rating-selector style="width: 100%;" label="Ease to remove" name="easeToRemove"
                         [(selected)]="glove.easeToRemove"></app-rating-selector>

    <h3>Ranking</h3>

    <div fxLayout="row" fxLayoutGap="20px">
      <mat-form-field fxFlex="30%" appearance="outline">
        <mat-label>Position</mat-label>
        <input type="number" min="1" max="10000" step="1" name="position" matInput [(ngModel)]="glove.ranking"/>
      </mat-form-field>
      <app-rating-selector fxFlex="70%" label="Category" name="rankingCategory"
                           [(selected)]="glove.rankingCategory"></app-rating-selector>

    </div>


    <mat-form-field appearance="outline">
      <mat-label>Recommendations</mat-label>
      <textarea matInput name="recommendations" [(ngModel)]="glove.recommendations"></textarea>
    </mat-form-field>

    <mat-checkbox [(ngModel)]="glove.powdered">This glove is powdered</mat-checkbox>
    <mat-checkbox [(ngModel)]="glove.fingerTextured">This glove is finger textured</mat-checkbox>


    <mat-form-field appearance="outline">
      <mat-label>Vulcanization agent</mat-label>
      <input type="text" name="reference" matInput [(ngModel)]="glove.vulcanizationAgent"/>
    </mat-form-field>

    <h3>Traction resistances</h3>


    <h3>Glass Handling</h3>

    <button mat-stroked-button>Save</button>
  </form>
</ng-container>

<ng-template #loading>
  <mat-spinner></mat-spinner>
</ng-template>
